<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Moves Radar</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #00336c;
    }

    canvas {
      max-width: 500px;
      max-height: 500px;
    }
  </style>
</head>

<body>
  <canvas id="moves-radar"></canvas>
  <script>
    const data = {
      labels: ['Move 1', 'Move 2', 'Move 3', 'Move 4'],
      datasets: [{
        data: [2, 1, 1, 0.5],
        backgroundColor: 'rgba(238, 208, 42, 0.7)',
        borderWidth: 0,
        pointRadius: 0
      }]
    };

    const radarBackgroundPlugin = {
      id: 'radarBackground',
      beforeDatasetsDraw(chart) {
        const { ctx, scales: { r } } = chart;

        ctx.save();
        ctx.beginPath();

        r._pointLabels.forEach((label, i) => {
          const point = r.getPointPositionForValue(i, r.max);
          if (i === 0) ctx.moveTo(point.x, point.y);
          else ctx.lineTo(point.x, point.y);
        });
        ctx.closePath();

        ctx.fillStyle = 'rgba(0,0,0,0.1)';
        ctx.fill();
        ctx.restore();
      }
    };

    const radarAxesPlugin = {
      id: 'radarAxes',
      afterDraw(chart) {
        const { ctx, scales: { r } } = chart;
        ctx.save();
        ctx.strokeStyle = 'rgba(255,255,255,0.3)';
        ctx.lineWidth = 1;

        const outerPoints = r._pointLabels.map((label, i) => r.getPointPositionForValue(i, r.max));

        // X Axis
        ctx.beginPath();
        ctx.moveTo(outerPoints[0].x, outerPoints[0].y);
        ctx.lineTo(outerPoints[2].x, outerPoints[2].y);
        ctx.stroke();

        // Y Axis
        ctx.beginPath();
        ctx.moveTo(outerPoints[1].x, outerPoints[1].y);
        ctx.lineTo(outerPoints[3].x, outerPoints[3].y);
        ctx.stroke();

        ctx.restore();
      }
    };

    const pointLabelCirclePlugin = {
      id: 'pointLabelCircle',
      afterDraw(chart) {
        const { ctx, scales: { r } } = chart;

        ctx.save();
        r._pointLabels.forEach((label, i) => {
          const point = r.getPointPositionForValue(i, r.max);
          const angle = r.getIndexAngle(i);
          const distance = 15;

          const x = r.xCenter + (r.getDistanceFromCenterForValue(r.max) + distance) * Math.cos(angle);
          const y = r.yCenter + (r.getDistanceFromCenterForValue(r.max) + distance) * Math.sin(angle);

          ctx.beginPath();
          ctx.arc(x, y, 4, 0, Math.PI * 2);
          ctx.fillStyle = '#fff';
          ctx.fill();
        });
        ctx.restore();
      }
    };

    const config = {
      type: 'radar',
      data: data,
      options: {
        plugins: {
          legend: { display: false }
        },
        scales: {
          r: {
            min: 0,
            max: 4,
            ticks: {
              stepSize: 1,
              display: false,
              backdropColor: 'transparent'
            },
            pointLabels: {
              display: true,
              font: { size: 16, weight: 'bold' },
              color: '#fff',
              padding: 30,
            },
            grid: {
              circular: false,
              drawTicks: false,
              lineWidth: function (ctx) {
                return ctx.index === ctx.scale.ticks.length - 1 ? 3 : 0;
              },
              color: function (ctx) {
                return ctx.index === ctx.scale.ticks.length - 1 ? '#fff' : 'transparent';
              }
            },
            angleLines: { color: 'transparent' }
          }
        }
      },
      plugins: [radarBackgroundPlugin, radarAxesPlugin, pointLabelCirclePlugin]
    };

    new Chart(document.getElementById('moves-radar'), config);
  </script>
</body>

</html>
